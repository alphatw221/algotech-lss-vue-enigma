import{u as T}from"./lss-buyer-order_lss.js";import{p as P,j as s,c as r,d as o,t as a,h as t,e as y,F as v,a4 as X,b7 as N,u as V,a as O,r as I,am as ee,x as te,aP as oe,ah as ae,o as q,A as g,L as u,M as f,f as H,n as R,N as E,R as Y,g as z,O as se,B as re,H as ne,aa as ie,C as de,i as J,bi as ce,v as le,z as pe,w as _e,T as B,bh as me,a0 as ue,bg as ge}from"./lss.js";const he=(p,e=null)=>P(e).get(`/api/v2/payment/stripe/gateway/?order_oid=${p}`),ye=(p,e=null)=>P(e).get(`/api/v2/payment/hitpay/gateway/?order_oid=${p}`),ve=(p,e=null)=>P(e).get(`/api/v2/payment/paypal/gateway/?order_oid=${p}`),fe=(p,e=null)=>P(e).get(`/api/v2/payment/first_data/credential/?order_oid=${p}`),be=(p,e=null)=>P(e).get(`/api/v2/payment/ecpay/gateway/?order_oid=${p}`),$e=(p,e=null)=>P(e).get(`/api/v2/payment/pay_mongo/gateway/?order_oid=${p}`),ke=(p,e=null)=>P(e).get(`/api/v2/payment/rapyd/gateway/?order_oid=${p}`),K={getStripeGateway:he,getFirstDataCredential:fe,getHitpayGateway:ye,getPaypayGateway:ve,getEcpayCredential:be,getPayMongoGateway:$e,getRapydGateway:ke},we={class:"box p-5 m-4 sm:m-3 border-2 border-secondary"},xe={class:"flex flex-col"},Me={class:"flex mb-4 dark:border-darkmode-400"},Ce={class:"text-lg"},Ae={class:"flex"},Fe={class:"mr-auto"},Se={key:0,class:"font-medium"},Le={key:0,class:"flex flex-row justify-between mt-2"},De={class:"w-fit my-auto whitespace-nowrap"},Ie={class:"font-medium text-danger"},Pe={key:1,class:"flex flex-row justify-between mt-2"},je={class:"w-fit my-auto whitespace-nowrap"},ze={class:"font-medium text-danger"},Te={key:2,class:"flex flex-row justify-between mt-2"},Re={class:"w-fit my-auto whitespace-nowrap"},Be={class:"font-medium"},Ve={class:"flex mt-4 border-t border-slate-200/60 dark:border-darkmode-400 mt-4 pt-4"},Oe={class:"mr-auto"},Ue={key:0,class:"font-medium"},Ge={key:1,class:"font-medium"},Ne={key:3,class:"text-red-600 text-sm"},Ee={key:4,class:"flex mt-4"},He={key:0,class:"mr-auto"},qe={key:1,class:"mr-auto"},Qe={key:2,class:"font-medium text-danger"},Ye={class:"flex mt-4 pt-4 border-t border-slate-200/60 dark:border-darkmode-400"},Je={class:"mr-auto font-medium text-base"},Ke={key:0,class:"font-medium text-base"},We={__name:"OrderSummary",setup(p){const e=T();return(n,x)=>{var h,d,m,i,l,_,b,$,C,k,M;return s(),r("div",we,[o("div",xe,[o("div",Me,[o("span",Ce,a(n.$t("shopping_cart.order_summary.order_summary")),1)]),o("div",Ae,[o("div",Fe,a(n.$t("shopping_cart.order_summary.subtotal")),1),t(e).order.campaign?(s(),r("div",Se,a(t(e).order.campaign.currency)+" "+a((Math.floor(parseFloat(t(e).order.subtotal)*10**t(e).order.campaign.decimal_places)/10**t(e).order.campaign.decimal_places).toFixed(t(e).order.campaign.decimal_places))+" "+a(t(e).order.campaign.price_unit?n.$t(`global.price_unit.${t(e).order.campaign.price_unit}`):""),1)):y("",!0)]),t(e).order.discount!=0&&t(e).order.campaign?(s(),r("div",Le,[o("label",De,a(n.$t("shopping_cart.order_summary.promo_discount")),1),o("span",Ie,a(t(e).order.campaign.currency)+" -"+a((Math.floor(parseFloat(t(e).order.discount)*10**t(e).order.campaign.decimal_places)/10**t(e).order.campaign.decimal_places).toFixed(t(e).order.campaign.decimal_places))+" "+a(t(e).order.campaign.price_unit?n.$t(`global.price_unit.${t(e).order.campaign.price_unit}`):""),1)])):y("",!0),t(e).order.point_discount!=0&&t(e).order.campaign?(s(),r("div",Pe,[o("label",je,a(n.$t("order.point_discount")),1),o("span",ze,a(t(e).order.campaign.currency)+" -"+a((Math.floor(parseFloat(t(e).order.point_discount)*10**t(e).order.campaign.decimal_places)/10**t(e).order.campaign.decimal_places).toFixed(t(e).order.campaign.decimal_places))+" "+a(t(e).order.campaign.price_unit?n.$t(`global.price_unit.${t(e).order.campaign.price_unit}`):""),1)])):y("",!0),(t(e).order.discount!=0||t(e).order.point_discount!=0)&&t(e).order.campaign?(s(),r("div",Te,[o("label",Re,a(n.$t("cart.subtotal_after_discount")),1),o("span",Be,a(t(e).order.campaign.currency)+" "+a((Math.floor(parseFloat(Math.max(t(e).order.subtotal-t(e).order.discount-t(e).order.point_discount,0))*10**t(e).order.campaign.decimal_places)/10**t(e).order.campaign.decimal_places).toFixed(t(e).order.campaign.decimal_places))+" "+a(t(e).order.campaign.price_unit?n.$t(`global.price_unit.${t(e).order.campaign.price_unit}`):""),1)])):y("",!0),o("div",Ve,[o("div",Oe,a(n.$t("shopping_cart.order_summary.shipping")),1),(h=t(e).order)!=null&&h.campaign?(s(),r(v,{key:0},[((m=(d=t(e).order)==null?void 0:d.meta)==null?void 0:m.subtotal_over_free_delivery_threshold)||((l=(i=t(e).order)==null?void 0:i.meta)==null?void 0:l.items_over_free_delivery_threshold)||((_=t(e).order)==null?void 0:_.free_delivery)?(s(),r("div",Ue,a(t(e).order.campaign.currency)+" "+a((Math.floor(parseFloat(0)*10**t(e).order.campaign.decimal_places)/10**t(e).order.campaign.decimal_places).toFixed(t(e).order.campaign.decimal_places))+" "+a(t(e).order.campaign.price_unit?n.$t(`global.price_unit.${t(e).order.campaign.price_unit}`):""),1)):(s(),r("div",Ge,a(t(e).order.campaign.currency)+" "+a((Math.floor(parseFloat(t(e).order.shipping_cost)*10**t(e).order.campaign.decimal_places)/10**t(e).order.campaign.decimal_places).toFixed(t(e).order.campaign.decimal_places))+" "+a(t(e).order.campaign.price_unit?n.$t(`global.price_unit.${t(e).order.campaign.price_unit}`):""),1))],64)):y("",!0)]),((b=t(e).order)==null?void 0:b.free_delivery)||((C=($=t(e).order)==null?void 0:$.meta)==null?void 0:C.subtotal_over_free_delivery_threshold)||((M=(k=t(e).order)==null?void 0:k.meta)==null?void 0:M.items_over_free_delivery_threshold)?(s(),r("div",Ne,a(n.$t("shopping_cart.order_summary.free_delivery")),1)):y("",!0),t(e).order.adjust_price!=0?(s(),r("div",Ee,[t(e).order.adjust_title?(s(),r("div",He,[o("div",null,a(t(e).order.adjust_title),1),o("div",null,"("+a(n.$t("shopping_cart.order_summary.price_adjustment"))+")",1)])):(s(),r("div",qe,a(n.$t("shopping_cart.order_summary.price_adjustment")),1)),t(e).order.campaign?(s(),r("div",Qe,a(t(e).order.campaign.currency)+" "+a((Math.floor(parseFloat(t(e).order.adjust_price)*10**t(e).order.campaign.decimal_places)/10**t(e).order.campaign.decimal_places).toFixed(t(e).order.campaign.decimal_places))+" "+a(t(e).order.campaign.price_unit?n.$t(`global.price_unit.${t(e).order.campaign.price_unit}`):""),1)):y("",!0)])):y("",!0),o("div",Ye,[o("div",Je,a(n.$t("shopping_cart.order_summary.total_charge")),1),t(e).order.campaign?(s(),r("div",Ke,a(t(e).order.campaign.currency)+" "+a((Math.floor(parseFloat(t(e).order.total)*10**t(e).order.campaign.decimal_places)/10**t(e).order.campaign.decimal_places).toFixed(t(e).order.campaign.decimal_places))+" "+a(t(e).order.campaign.price_unit?n.$t(`global.price_unit.${t(e).order.campaign.price_unit}`):""),1)):y("",!0)])])])}}},Xe={key:0,class:"mx-5 text-white text-[20px]"},Ze={key:0,class:"mb-5 mx-5"},et={class:"flex flex-row gap-3 flex-wrap items-center self-center justify-around pt-3 pb-4 list-none"},tt={class:"z-10 flex items-center self-center flex-1 intro-x lg:text-center lg:mt-0 lg:block w-fit"},ot=["onClick"],at={key:0},st={key:1},rt={class:"mx-auto font-bold text-black mb-3"},nt={class:"w-36"},it=["src"],dt={class:"mx-auto font-bold text-black mb-3 text-center"},ct={class:"text-lg font-medium"},lt={class:"text-gray-600"},pt=o("br",null,null,-1),_t={class:"text-gray-600"},mt={class:"mx-auto my-4 font-bold text-black mb-3 text-center"},ut={class:"flex flex-col m-3"},gt={for:"regular-form-2",class:"form-label text-center"},ht=["disabled"],yt={class:"flex flex-col"},vt={class:"text-lg text-primary font-medium"},ft={__name:"DirectPayment_v2",setup(p){const{cookies:e}=X(),n=T(),x=N(),h=V(),d=O();e.get("login_with")=="anonymousUser";const m=I(),i=I(0),l=I(0),_=I(!1),b=c=>{i.value=c,l.value=c},$=ee({fiveDigits:""}),C={fiveDigits:{required:re,integer:ne,minLength:ie(5),maxLength:de(10)}},k=te(C,oe($));ae("bind[receiptUploadDropzoneRef]",c=>{m.value=c,c.dropzone.on("addedfile",w=>{const S=c.dropzone.getAcceptedFiles();S.length>0&&c.dropzone.removeFile(S[0])})}),q(()=>{});const M=()=>{const c=n.order.campaign;if(!c)return;const w=c.meta_payment;if(!w)return;let S=m.value.dropzone.getAcceptedFiles()[0];const D=Object.values(w.direct_payment.v2_accounts)[l.value];if([void 0,null,""].includes(S)&&D.require_customer_return&&(k.value.$touch(),k.value.$invalid)){x.alert.showMessageToast(J.global.t("shopping_cart.invalid_data"));return}let L=new FormData;L.append("last_five_digit",$.fiveDigits),L.append("image",S||""),L.append("account_name",D.name),L.append("account_mode",D.mode),_.value=!0,ce(h.params.order_oid,L,x.alert).then(j=>{n.order=j.data,_.value=!1,d.push(`/buyer/order/${h.params.order_oid}/awaiting_confirm`)}).catch(j=>{x.alert.showMessageToast(J.global.t("shopping_cart.err")),_.value=!1})};return(c,w)=>{const S=g("Accordion"),D=g("CheckIcon"),L=g("Dropzone"),j=g("AccordionPanel"),U=g("AccordionItem"),G=g("LoadingIcon"),Q=g("ModalBody"),Z=g("Modal");return s(),r(v,null,[u(U,{class:"mx-5 show"},{default:f(()=>[u(S,{class:"rounded-t-lg bg-primary"},{default:f(()=>[t(n).order.campaign?(s(),r("div",Xe,a(c.$t("shopping_cart.payment.direct.title")),1)):y("",!0)]),_:1}),u(j,{class:"leading-relaxed border-2 text-slate-600 dark:text-slate-500 border-secondary"},{default:f(()=>[t(n).order.campaign?(s(),r("div",Ze,[o("ul",et,[(s(!0),r(v,null,H(t(n).order.campaign.meta_payment.direct_payment.v2_accounts,(A,F)=>(s(),r("li",{class:"flex last:mr-0",key:F},[o("div",tt,[o("button",{onClick:Eo=>b(F),class:R([{"text-neutral-600 bg-white shadow-lg":i.value!==F,"bg-slate-300 font-semibold":i.value===F},"h-10 rounded-lg btn border-slate-300 text-slate-500 dark:bg-darkmode-400 dark:border-darkmode-400"])},[E(u(D,{class:R({"rounded-full bg-white mr-2":!0})},null,512),[[Y,i.value===F]]),A.mode===""?(s(),r("div",at,a(c.$t("shopping_cart.payment.direct.account"))+" "+a(F+1),1)):(s(),r("div",st,a(A.mode),1))],10,ot)])]))),128))]),(s(!0),r(v,null,H(t(n).order.campaign.meta_payment.direct_payment.v2_accounts,(A,F)=>E((s(),r("div",{class:R(["flex flex-col items-center place-content-center mt-5",{hidden:i.value!==F,block:i.value===F}]),key:F},[o("h5",rt,a(c.$t("shopping_cart.payment.direct.information")),1),o("table",null,[o("tr",null,[o("td",nt,a(c.$t("shopping_cart.payment.direct.account"))+"\uFF1A",1),o("td",null,a(A.number),1)]),o("tr",null,[o("td",null,a(c.$t("shopping_cart.payment.direct.account_name"))+"\uFF1A",1),o("td",null,a(A.name),1)]),o("tr",null,[o("td",null,a(c.$t("shopping_cart.payment.direct.note"))+"\uFF1A",1),o("td",null,a(A.note),1)])]),o("img",{class:"mt-5 w-36 h-36",src:A.image,alt:""},null,8,it)],2)),[[Y,i.value===F]])),128))])):y("",!0),o("h5",dt,a(c.$t("shopping_cart.payment.direct.upload_record")),1),u(L,{"ref-key":"receiptUploadDropzoneRef",options:{method:"put",url:"url",uploadMultiple:!1,maxFilesize:10,addRemoveLinks:!0,autoProcessQueue:!1,resizeQuality:.5,clickable:!0,acceptedFiles:"image/*"},class:"dropzone h-fit"},{default:f(()=>[o("div",ct,a(c.$t("shopping_cart.payment.direct.upload_img")),1),o("div",lt,[pt,z(a(c.$t("shopping_cart.payment.direct.accepted_types"))+"\uFF1Ajpeg, png, jpg ",1)]),o("div",_t,a(c.$t("shopping_cart.payment.direct.max_size"))+"\uFF1A10MB",1)]),_:1}),o("h4",mt,a(c.$t("shopping_cart.payment.direct.or")),1),o("div",ut,[o("label",gt,a(c.$t("shopping_cart.payment.direct.last_five_digits")),1),E(o("input",{id:"regular-form-2",type:"text",class:R(["form-control",{"border-danger":t(k).fiveDigits.$error}]),"onUpdate:modelValue":w[0]||(w[0]=A=>t(k).fiveDigits.$model=A)},null,2),[[se,t(k).fiveDigits.$model,void 0,{trim:!0}]]),t(k).fiveDigits.$error?(s(),r("div",{key:0,class:R(["form-help",{"text-danger":t(k).fiveDigits.$error}])},a(c.$t("shopping_cart.payment.direct.digits_message")),3)):y("",!0),o("button",{type:"button",disabled:_.value,class:"self-center mx-3 mt-5 w-fit btn btn-primary rounded-lg lg:self-end 2xl:self-end",onClick:w[1]||(w[1]=A=>M())},a(c.$t("shopping_cart.payment.direct.complete_order")),9,ht)])]),_:1})]),_:1}),u(Z,{show:_.value,onHidden:w[2]||(w[2]=A=>!_.value),class:"text-center",backdrop:"static"},{default:f(()=>[u(Q,{class:""},{default:f(()=>[o("div",yt,[o("p",vt,a(c.$t("shopping_cart.payment.processing")),1),u(G,{icon:"loading_payment"})])]),_:1})]),_:1},8,["show"])],64)}}},bt={class:"text-white mx-5 flex flex-col sm:flex-row"},$t={class:"text-[20px]"},kt={class:"my-auto ml-2"},wt={key:0,class:"text-center"},xt=["src"],Mt={class:"text-center mt-3"},Ct={key:1,class:"text-center"},At=["src"],Ft={class:"text-center mt-3"},St=["id"],Lt=o("input",{type:"submit",value:"",class:"hidden"},null,-1),Dt=[Lt],It={key:2},Pt=["id"],jt={class:"flex flex-col"},zt={class:"text-lg text-primary font-medium"},Tt={__name:"PaymentMethod",props:{payment:Object},setup(p){const e=p,n=N(),x=V();O();const h=I(!1),d=()=>{if(e.payment.handle.type=="gateway"){const m=K[e.payment.handle.endpoint];m(x.params.order_oid,n.alert).then(i=>{window.location.href=i.data})}else if(e.payment.handle.type=="submitForm"){const m=K[e.payment.handle.endpoint];h.value=!0,m(x.params.order_oid,n.alert).then(i=>{const l=document.createElement("form");l.setAttribute("id","data_set"),l.method="post",l.action=i.data.url;const _=i.data.params;for(const b in _)if(_.hasOwnProperty(b)){const $=document.createElement("input");$.type="hidden",$.name=b,$.value=_[b],l.appendChild($)}document.body.appendChild(l),h.value=!1,l.submit()}).catch(i=>{h.value=!1})}};return(m,i)=>{const l=g("Accordion"),_=g("AccordionPanel"),b=g("AccordionItem"),$=g("LoadingIcon"),C=g("ModalBody"),k=g("Modal");return s(),r(v,null,[u(b,{class:"mx-5"},{default:f(()=>[u(l,{class:"bg-primary rounded-t-lg"},{default:f(()=>[o("div",bt,[o("span",$t,a(m.$t("shopping_cart.payment.payment_method."+p.payment.key)),1),o("span",kt,a(p.payment.key=="ecpay"?"(\u7DDA\u4E0A\u532F\u6B3E/\u4FE1\u7528\u5361/\u8D85\u5546\u4EE3\u78BC\u7E73\u8CBB/\u8D85\u5546\u689D\u78BC\u7E73\u8CBB)":""),1)])]),_:1}),u(_,{class:"text-slate-600 dark:text-slate-500 leading-relaxed border-2 border-secondary"},{default:f(()=>{var M,c;return[e.payment.handle.type=="gateway"?(s(),r("div",wt,[o("img",{src:e.payment.icon,alt:"",class:"w-48 mx-auto mt-5"},null,8,xt),o("div",Mt,a((M=e.payment)==null?void 0:M.reminder),1),o("button",{class:"btn btn-primary mt-3 mb-5",onClick:i[0]||(i[0]=w=>d())},a(m.$t("shopping_cart.payment.pay_with"))+" "+a(e.payment.name),1)])):e.payment.handle.type=="submitForm"?(s(),r("div",Ct,[o("img",{src:e.payment.icon,alt:"",class:"w-48 mx-auto mt-5"},null,8,At),o("div",Ft,a((c=e.payment)==null?void 0:c.reminder),1),o("button",{class:"btn btn-primary mt-2 mb-5",onClick:i[1]||(i[1]=w=>d())},a(m.$t("shopping_cart.payment.go_pay")),1),o("form",{method:"post",action:"https://test.ipg-online.com/connect/gateway/processing",id:e.payment.key,class:"hidden"},Dt,8,St)])):e.payment.handle.type=="embed"?(s(),r("div",It,[o("div",{id:e.payment.key},null,8,Pt)])):y("",!0)]}),_:1})]),_:1}),u(k,{show:h.value,onHidden:i[2]||(i[2]=M=>!h.value),class:"text-center",backdrop:"static"},{default:f(()=>[u(C,{class:""},{default:f(()=>[o("div",jt,[o("p",zt,a(m.$t("shopping_cart.payment.processing")),1),u($,{icon:"loading_payment"})])]),_:1})]),_:1},8,["show"])],64)}}},Rt=(p,e,n=null)=>P(n).put(`/api/v2/delivery/ecpay/create/delivery_order/${p}/`,e),Bt=o("div",{class:"text-white mx-5 text-[20px]"}," \u8D85\u5546\u8CA8\u5230\u4ED8\u6B3E ",-1),Vt={key:0,class:"grid grid-cols-3 justify-center text-left mx-5 sm:mx-20 text-[16px] gap-1"},Ot={class:"col-span-3"},Ut=o("p",null," \u9580\u5E02\u540D\u7A31: ",-1),Gt={class:"col-span-2"},Nt=o("p",null," \u5730\u5740: ",-1),Et={class:"col-span-2"},Ht=o("p",null," \u5E97\u865F: ",-1),qt={class:"col-span-2"},Qt=o("p",null," \u9580\u5E02\u96FB\u8A71: ",-1),Yt={class:"whitespace-nowrap"},Jt=["disabled"],Kt={class:"flex flex-col"},Wt={class:"text-lg text-primary font-medium"},W={__name:"PickupPay",setup(p){const e=T(),n=N(),x=V(),h=O(),d=I(!1),m=()=>{d.value=!0,Rt(x.params.order_oid,{is_collection:"Y"},n.alert).then(i=>{d.value=!1,n.notification.showMessageToast(i.data.RtnMsg),h.push(`/buyer/order/${x.params.order_oid}/confirmation`)}).catch(i=>{d.value=!1})};return(i,l)=>{const _=g("Accordion"),b=g("lable"),$=g("AccordionPanel"),C=g("AccordionItem"),k=g("LoadingIcon"),M=g("ModalBody"),c=g("Modal");return s(),r(v,null,[u(C,{class:"mx-5"},{default:f(()=>[u(_,{class:"bg-primary rounded-t-lg"},{default:f(()=>[Bt]),_:1}),u($,{class:"text-slate-600 dark:text-slate-500 leading-relaxed border-2 border-secondary"},{default:f(()=>[t(e).order.campaign?(s(),r("div",Vt,[u(b,{class:"col-span-3 col-start-1 text-center my-3 text-[20px]"},{default:f(()=>[z(" \u8D85\u5546\u8CC7\u8A0A:")]),_:1}),o("p",Ot,a(t(e).order.shipping_option_data.LogisticsSubType=="UNIMARTC2C"?"7-11\u5E97\u5230\u5E97":"\u5168\u5BB6\u5E97\u5230\u5E97"),1),Ut,o("p",Gt,a(t(e).order.shipping_option_data.cvs_store_name),1),Nt,o("p",Et,a(t(e).order.shipping_option_data.cvs_address),1),Ht,o("p",qt,a(t(e).order.shipping_option_data.cvs_store_id),1),t(e).order.shipping_option_data.cvs_telephone?(s(),r(v,{key:0},[Qt,o("p",Yt,a(t(e).order.shipping_option_data.cvs_telephone),1)],64)):y("",!0),o("button",{disabled:d.value,class:"col-span-3 w-fit btn btn-primary rounded-lg mt-10 mb-3 ml-auto",onClickOnce:l[0]||(l[0]=w=>m())}," \u8CA8\u5230\u4ED8\u6B3E ",40,Jt)])):y("",!0)]),_:1})]),_:1}),u(c,{show:d.value,onHidden:l[1]||(l[1]=w=>!d.value),class:"text-center",backdrop:"static"},{default:f(()=>[u(M,{class:""},{default:f(()=>[o("div",Kt,[o("p",Wt,a(i.$t("shopping_cart.payment.processing")),1),u(k,{icon:"loading_payment"})])]),_:1})]),_:1},8,["show"])],64)}}},Xt={__name:"Main",setup(p){const e=T(),n=le(),x=I(null),h=I([]);return pe(_e(()=>e.order),()=>{if(!e.order.campaign||!e.order.campaign.user_subscription)return;const d=e.order.campaign.meta_payment;!d||Object.entries(d).forEach(([m,i])=>{i.enabled&&h.value.push(n[m])})}),(d,m)=>{const i=g("AccordionGroup");return s(),B(i,{class:"mb-10",selectedIndex:x.value},{default:f(()=>{var l;return[((l=t(e).order.shipping_option_data)==null?void 0:l.logisticsType)=="CVS"&&t(e).order.campaign.meta_logistic.ecpay.allow_pickup_pay?(s(),B(W,{key:0})):y("",!0),(s(!0),r(v,null,H(h.value,(_,b)=>(s(),r("div",{class:"mt-5",key:b},[_.key=="direct_payment"?(s(),B(ft,{key:0})):_.key=="pickup_pay"?(s(),B(W,{key:1,payment:_},null,8,["payment"])):(s(),B(Tt,{key:2,class:"mt-1",payment:_},null,8,["payment"]))]))),128))]}),_:1},8,["selectedIndex"])}}},Zt={class:"box p-5 m-4 border-2 border-secondary grid grid-cols-6 gap-2 sm:gap-3 text-[14px] sm:text-[16px]"},eo={class:"col-span-6 flex mb-4 dark:border-darkmode-400"},to={class:"text-lg"},oo={class:"col-start-1 col-span-2"},ao={class:"col-start-3 col-span-4"},so=o("div",{class:"col-span-6 w-full border-t border-slate-200/60 dark:border-darkmode-400"},null,-1),ro={class:"col-start-1 col-span-2"},no={class:"col-start-3 col-span-4"},io=o("div",{class:"col-span-6 w-full border-t border-slate-200/60 dark:border-darkmode-400"},null,-1),co={class:"col-start-1 col-span-2"},lo={class:"col-start-3 col-span-4"},po=o("div",{class:"col-span-6 w-full border-t border-slate-200/60 dark:border-darkmode-400"},null,-1),_o={class:"col-start-1 col-span-2"},mo={key:0,class:"col-start-3 col-span-4"},uo={key:1,class:"col-start-3 col-span-4"},go={key:2,class:"col-start-3 col-span-4"},ho=o("div",{class:"col-span-6 w-full border-t border-slate-200/60 dark:border-darkmode-400"},null,-1),yo={class:"col-start-1 col-span-2"},vo={class:"col-start-3 col-span-4"},fo=o("div",{class:"col-span-6 w-full border-t border-slate-200/60 dark:border-darkmode-400"},null,-1),bo={class:"col-start-1 col-span-2"},$o={class:"col-start-3 col-span-4"},ko=o("br",null,null,-1),wo=o("div",{class:"col-span-6 w-full border-t border-slate-200/60 dark:border-darkmode-400"},null,-1),xo={class:"col-start-1 col-span-2"},Mo={class:"col-start-3 col-span-4"},Co=o("div",{class:"col-span-6 w-full border-t border-slate-200/60 dark:border-darkmode-400"},null,-1),Ao={class:"col-start-1 col-span-2"},Fo={class:"col-start-3 col-span-4"},So=o("div",{class:"col-span-6 w-full border-t border-slate-200/60 dark:border-darkmode-400"},null,-1),Lo={class:"col-start-1 col-span-2"},Do={class:"col-start-3 col-span-4"},Io=o("div",{class:"col-span-6 w-full border-t border-slate-200/60 dark:border-darkmode-400"},null,-1),Po={class:"col-start-1 col-span-2"},jo={class:"col-start-3 col-span-4"},zo=o("div",{class:"col-span-6 w-full border-t border-slate-200/60 dark:border-darkmode-400"},null,-1),To={class:"col-start-1 col-span-2"},Ro={class:"col-start-3 col-span-4"},Bo=o("div",{class:"col-span-6 w-full border-t border-slate-200/60 dark:border-darkmode-400"},null,-1),Vo={__name:"ShippingSummary",setup(p){const e=T(),n=V(),x=O(),h=()=>{confirm(i18n.global.t("order.confirm_cancel"))&&me(n.params.order_oid,e.alert).then(d=>{x.push({name:"buyer-shopping-cart-detail-page",params:{cart_oid:d.data}})})};return q(()=>{}),(d,m)=>{var i,l,_,b,$,C,k,M,c,w,S,D,L,j,U,G;return s(),r("div",Zt,[o("div",eo,[o("span",to,a(d.$t("shopping_cart.payment.shipping_summary")),1),o("button",{class:"btn btn-warning h-8 ml-auto text-base",onClick:m[0]||(m[0]=Q=>h())},a("Cancel"))]),o("div",oo,a(d.$t("order_detail.delivery.name")),1),o("div",ao,a(t(e).order.shipping_first_name),1),so,o("div",ro,a(d.$t("shopping_cart.delivery_tab.email")),1),o("div",no,a(t(e).order.shipping_email),1),io,o("div",co,a(d.$t("shopping_cart.delivery_tab.cell_phone")),1),o("div",lo,a(t(e).order.shipping_cellphone),1),po,o("div",_o,a(d.$t("order_detail.delivery.method")),1),t(e).order.shipping_method==="pickup"?(s(),r("div",mo,a(d.$t("shopping_cart.payment.pickup")),1)):t(e).order.shipping_method==="delivery"?(s(),r("div",uo,a(t(e).order.shipping_option==""?d.$t("shopping_cart.delivery_tab.option.default"):t(e).order.shipping_option),1)):t(e).order.shipping_method==="ecpay"?(s(),r("div",go,[t(e).order.shipping_option_data.logisticsType=="CVS"?(s(),r(v,{key:0},[z(a(t(e).order.shipping_option_data.LogisticsSubType=="UNIMARTC2C"?"7-11\u5E97\u5230\u5E97":"\u5168\u5BB6\u5E97\u5230\u5E97"),1)],64)):(s(),r(v,{key:1},[z("\u9ED1\u8C93\u5B85\u914D")],64))])):y("",!0),ho,t(e).order.shipping_method==="pickup"?(s(),r(v,{key:3},[o("div",yo,a((i=t(e).order)==null?void 0:i.shipping_option),1),o("div",vo,a((l=t(e).order)==null?void 0:l.pickup_address),1),fo,((_=t(e).order)==null?void 0:_.shipping_date_time)&&((b=t(e).order)==null?void 0:b.shipping_time_slot)?(s(),r(v,{key:0},[o("div",bo,a(d.$t("shopping_cart.payment.pickupTime")),1),o("div",$o,[o("p",null,[z(a(new Date(($=t(e).order)==null?void 0:$.shipping_date_time).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}))+" ",1),ko,z(" "+a((C=t(e).order)==null?void 0:C.shipping_time_slot),1)])])],64)):y("",!0),wo],64)):t(e).order.shipping_method==="delivery"?(s(),r(v,{key:4},[(k=t(e).order.shipping_option_data)!=null&&k.is_cvs?(s(),r(v,{key:0},[o("div",xo,a(d.$t("shopping_cart.payment.address")),1),o("div",Mo,[o("div",null,a((M=t(e).order.shipping_option_data)==null?void 0:M.cvs_store_name),1),o("div",null,a((c=t(e).order.shipping_option_data)==null?void 0:c.cvs_address),1)]),Co],64)):(s(),r(v,{key:1},[o("div",Ao,a(d.$t("shopping_cart.payment.address")),1),o("div",Fo,a(t(e).order.shipping_postcode)+" , "+a(t(e).order.shipping_address_1)+" , "+a(t(e).order.shipping_region)+" , "+a(t(e).order.shipping_location)+" "+a(t(e).order.shipping_property_type||""),1),So],64)),((w=t(e).order)==null?void 0:w.shipping_date_time)&&((S=t(e).order)==null?void 0:S.shipping_time_slot)&&!((D=t(e).order.shipping_option_data)!=null&&D.is_cvs)?(s(),r(v,{key:2},[o("div",Lo,a(d.$t("shopping_cart.payment.deliveryTime")),1),o("div",Do,[o("p",null,a(new Date((L=t(e).order)==null?void 0:L.shipping_date_time).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}))+", "+a((j=t(e).order)==null?void 0:j.shipping_time_slot),1)]),Io],64)):y("",!0)],64)):t(e).order.shipping_method==="ecpay"?(s(),r(v,{key:5},[t(e).order.shipping_option_data.logisticsType==="CVS"?(s(),r(v,{key:0},[o("div",Po,a(d.$t("order_detail.delivery.cvs")),1),o("div",jo,[o("div",null,a((U=t(e).order.shipping_option_data)==null?void 0:U.cvs_store_name),1),o("div",null,a((G=t(e).order.shipping_option_data)==null?void 0:G.cvs_address),1)]),zo],64)):(s(),r(v,{key:1},[o("div",To,a(d.$t("order_detail.delivery.address")),1),o("div",Ro,a(t(e).order.shipping_postcode)+" "+a(t(e).order.shipping_region)+", "+a(t(e).order.shipping_location)+", "+a(t(e).order.shipping_address_1)+" "+a(t(e).order.shipping_property_type||""),1),Bo],64))],64)):y("",!0)])}}},Oo={class:"box grid grid-cols-12 gap-4"},Uo={class:"col-start-1 col-span-12 lg:col-span-7 2xl:col-span-7"},Go={class:"col-span-12 lg:col-span-5 2xl:col-span-5"},No={class:"col-start-1 col-span-12 lg:col-span-7 2xl:col-span-7"},Qo={__name:"Main",setup(p){const e=T(),n=N(),{cookies:x}=X(),h=V(),d=O();x.get("login_with")=="anonymousUser";const m=ue().appContext.config.globalProperties.$i18n;return q(()=>{ge(h.params.order_oid,n.alert).then(i=>{var l;e.order=i.data,n.sellerInfo=i.data.user_subscription,m.locale=i.data.campaign.lang,((l=e.order.campaign.user_subscription)==null?void 0:l.status)==="test"&&d.back(),console.log(e.order)})}),(i,l)=>(s(),r("div",Oo,[o("div",Uo,[u(Vo)]),o("div",Go,[u(We)]),o("div",No,[u(Xt)])]))}};export{Qo as default};
