import{_ as B,am as R,r as d,j as _,c as b,F,f as q,N as M,O as L,n as H,a4 as D,a as z,aL as j,o as P,a1 as X,z as J,w as Q,A as h,T as I,M as C,L as y,d as t,t as r,a0 as A,b0 as Y,i as Z,b1 as G,Y as W,u as ee,ad as T,Z as te,h as oe,g as se,b2 as ae,ae as S,U as le,V as ne}from"./lss.js";import{_ as ie,a as re,b as de,c as V}from"./mobile_login_robot_hand_lss.js";import{_ as ue}from"./LSS_logo_words_lss.js";const ce=["onKeydown","onUpdate:modelValue"],pe={__name:"OTP",props:{default:String,digitCount:{type:Number,required:!0}},emits:["update:otp"],setup(g,{emit:w}){const u=g,a=R([]);if(u.default&&u.default.length===u.digitCount)for(let e=0;e<u.digitCount;e++)a[e]=u.default.charAt(e);else for(let e=0;e<u.digitCount;e++)a[e]=null;const v=d(null),c=function(){for(const e of a)if(e==null||e==null)return!1;return!0},n=function(e,o){if(e.key!=="Tab"&&e.key!=="ArrowRight"&&e.key!=="ArrowLeft"&&e.preventDefault(),e.key==="Backspace"){a[o]=null,o!=0&&v.value.children[o-1].focus();return}new RegExp("^([0-9])$").test(e.key)&&(a[o]=e.key,o!=u.digitCount-1&&v.value.children[o+1].focus()),c()&&w("update:otp",a.join(""))};return(e,o)=>(_(),b("div",{ref_key:"otpCont",ref:v},[(_(!0),b(F,null,q(a,(s,l)=>M((_(),b("input",{onKeydown:p=>n(p,l),type:"text",class:H(["digit-box",{bounce:a[l]!==null}]),key:s+l,"onUpdate:modelValue":p=>a[l]=p,maxlength:"1"},null,42,ce)),[[L,a[l]]])),128))],512))}};var me=B(pe,[["__scopeId","data-v-147f4dd8"]]);const fe={class:"mr-auto text-base font-medium"},_e={class:"text-medium"},ge={key:1,class:"ml-auto font-medium"},ve={__name:"TwoFA",setup(g){const{cookies:w}=D(),a=A().appContext.config.globalProperties.eventBus,v=z(),c=j(),n=d(!1),e=d(),o=d(),s=d(""),l=d(0);let p=null;P(()=>{a.on("showTwoFAModal",m=>{n.value=!0,e.value=m.token,o.value=m.verify_code,l.value=30})}),X(()=>{clearTimeout(p),a.off("showTwoFAModal")});const $=()=>{console.log(e.value),Y(e.value).then(m=>{o.value=m.data,l.value=30})},i=()=>{o.value==s.value?(w.set("access_token",e.value.access),w.set("login_with","dealer"),n.value=!1,v.push({name:"dashboard"})):c.alert.showMessageToast(Z.global.t("login.codeInvalid"))},K=()=>{n.value=!1,clearTimeout(p),p=null};return J(Q(()=>l.value),()=>{l.value>0&&(p=setTimeout(()=>{l.value-=1},1e3))},{immediate:!0}),(m,f)=>{const O=h("XIcon"),U=h("ModalHeader"),E=h("ModalBody"),N=h("Modal");return _(),I(N,{show:n.value,onHidden:f[4]||(f[4]=x=>K()),backdrop:"static"},{default:C(()=>[y(U,null,{default:C(()=>[t("h2",fe,r(m.$t("login.2FAModal.title")),1),t("a",{onClick:f[0]||(f[0]=x=>n.value=!1),class:"absolute top-0 right-0 mt-3 mr-3"},[y(O,{class:"w-8 h-8 text-slate-500"})])]),_:1}),y(E,{class:"flex flex-col p-10 text-center border-2 gap-5"},{default:C(()=>[t("div",_e,r(m.$t("login.2FAModal.subTitle")),1),y(me,{"digit-count":4,"onUpdate:otp":f[1]||(f[1]=x=>s.value=x)}),l.value==0?(_(),b("a",{key:0,onClick:f[2]||(f[2]=x=>$()),class:"w-fit dark:border-darkmode-400 ml-auto"},r(m.$t("login.2FAModal.resend")),1)):(_(),b("a",ge,r(m.$t("login.2FAModal.resend_again",{sec:l.value})),1)),t("button",{type:"button",onClick:f[3]||(f[3]=x=>i()),class:"w-full shadow-md btn btn-primary"},r(m.$t("login.2FAModal.submit")),1)]),_:1})]),_:1},8,["show"])}}};const k=g=>(le("data-v-08516f23"),g=g(),ne(),g),he={class:"board bg-white"},we=k(()=>t("div",{class:"round hidden sm:block"},[t("img",{src:ie,class:"whiteCircle"}),t("img",{src:re,class:"robot"})],-1)),ye={class:"loginContainer w-[100%] sm:w-[480px] m-0 sm:mr-[10%] bg-red-500/25 sm:bg-transparent float-center sm:float-right"},be=k(()=>t("img",{src:de,class:"sm:hidden absolute right-1/2 translate-x-1/2 top-2"},null,-1)),xe=k(()=>t("img",{src:V,class:"sm:hidden absolute top-1/4 left-20 z-10 -translate-y-1/3 -rotate-3"},null,-1)),ke=k(()=>t("img",{src:V,class:"sm:hidden absolute top-1/4 right-20 z-10 -translate-y-1/3 rotate-3"},null,-1)),$e={class:"flex relative flex-col items-center p-10 text-center z-0 center w-full h-3/4 sm:h-fit sm:w-[375px] right-50 top-1/4 sm:top-0 sm:translate-y-1/3 abosolute bg-white sm:opacity-95"},Ce=k(()=>t("img",{src:ue,class:"w-[200px]"},null,-1)),Me={class:"text-[1.8rem] mx-auto my-5 font-medium"},Ie={class:"w-full flex-col flex gap-5 z-10"},Ae={class:"relative"},Te=["placeholder"],Se={class:"relative"},Be=["placeholder","type"],Fe={class:"flex flex-col items-center mt-3 font-medium"},Le={class:"text-[16px]"},De={href:"https://share.hsforms.com/1sclKwJe_QCaqxyzSgbk6kAd0w75",class:"ml-1"},ze={__name:"DealerLoginPage",setup(g){D();const w=A();G();const u=w.appContext.config.globalProperties.eventBus;d(!1),W(()=>{document.querySelector("body").setAttribute("style","padding-left: 0; padding-right: 0; overflow: hidden; height:100vh;")}),P(()=>{navigator.userAgent.toLowerCase().indexOf("chrome")<0&&navigator.userAgent.toLowerCase().indexOf("safari")<0&&(v.value=!0)}),ee();const a=z();A().appContext.config.globalProperties.$i18n,d(window.location.href);const v=d(!1),c=d(!1),n=d({email:"",password:""}),e=()=>{ae(n.value).then(o=>{u.emit("showTwoFAModal",o.data)})};return(o,s)=>{const l=h("MailIcon"),p=h("EyeOffIcon"),$=h("EyeIcon");return _(),b(F,null,[t("div",he,[we,t("div",ye,[be,xe,ke,t("div",$e,[Ce,t("h3",Me,r(o.$t("login.dealer"))+r(o.$t("login.login")),1),t("form",Ie,[t("div",Ae,[y(l,{class:"absolute w-6 h-6 top-3 left-3 z-10 text-slate-400"}),M(t("input",{type:"email",class:"h-[45px] pl-11 px-4 rounded-xl form-control border-slate-500 text-[16px]",placeholder:o.$t("login.email"),"onUpdate:modelValue":s[0]||(s[0]=i=>n.value.email=i),onKeydown:s[1]||(s[1]=T(S(i=>e(),["prevent"]),["enter"]))},null,40,Te),[[L,n.value.email]])]),t("div",Se,[M(t("input",{class:"h-[45px] pl-11 px-4 rounded-xl form-control border-slate-500 text-[16px]",placeholder:o.$t("login.password"),"onUpdate:modelValue":s[2]||(s[2]=i=>n.value.password=i),type:c.value?"text":"password",onKeydown:s[3]||(s[3]=T(S(i=>e(),["prevent"]),["enter"]))},null,40,Be),[[te,n.value.password]]),c.value?(_(),I(p,{key:0,onClick:s[4]||(s[4]=i=>c.value=!c.value),class:"absolute w-6 h-6 top-3 left-3 z-10 text-slate-400"})):(_(),I($,{key:1,onClick:s[5]||(s[5]=i=>c.value=!c.value),class:"absolute w-6 h-6 top-3 left-3 z-10 text-slate-400"}))]),t("button",{type:"button",class:"w-full h-[42px] text-lg text-white btn bg-red-500",onClick:s[6]||(s[6]=i=>e())},r(o.$t("login.sign_in")),1)]),t("a",{class:"mx-auto item-center text-[16px] mt-5 font-medium",onClick:s[7]||(s[7]=i=>oe(a).push({name:"password-forgot"}))},r(o.$t("login.forgot_password")),1),t("div",Fe,[t("div",Le,[se(r(o.$t("login.no_account")),1),t("a",De,r(o.$t("login.create_one")),1)])])])])]),y(ve)],64)}}};var Oe=B(ze,[["__scopeId","data-v-08516f23"]]);export{Oe as default};
